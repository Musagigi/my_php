<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<title>Silly story generator</title>

		<style>
			body {
				font-family: helvetica, sans-serif;
				width: 350px;
			}

			label {
				font-weight: bold;
			}

			div {
				padding-bottom: 20px;
			}

			input[type="text"] {
				padding: 5px;
				width: 150px;
			}

			p {
				background: #ffc125;
				color: #5e2612;
				padding: 10px;
				visibility: hidden;
			}
		</style>
	</head>
	<body>
		<div>
			<label for="customname">Enter custom name:</label>
			<input
				id="customname"
				type="text"
				placeholder=""
			/>
		</div>
		<div>
			<label for="us">US</label
			><input
				id="us"
				type="radio"
				name="ukus"
				value="us"
				checked
			/>
			<label for="uk">UK</label
			><input
				id="uk"
				type="radio"
				name="ukus"
				value="uk"
			/>
		</div>
		<div>
			<button class="randomize">Generate random story</button>
		</div>
		<!-- Thanks a lot to Willy Aguirre for his help with the code for this assessment -->
		<p class="story"></p>

		<script>
			const customName = document.getElementById("customname");
			const randomize = document.querySelector(".randomize");
			const story = document.querySelector(".story");

			let storyText =
				"It was 94 fahrenheit outside, so :insertx: went for a walk. When they got to :inserty:, they stared in horror for a few moments, then :insertz:. Bob saw the whole thing, but was not surprised — :insertx: weighs 300 pounds, and it was a hot day.";
			let insertX = "Willy the Goblin Big Daddy Father Christmas";
			let insertY = "the soup kitchen Disneyland the White House";
			let insertZ =
				"spontaneously combusted melted into a puddle on the sidewalk turned into a slug and crawled away";

			function randomValueFromArray(array) {
				let splitArr = array.split(" ");
				const random = Math.floor(Math.random() * splitArr.length);
				return splitArr[random];
			}
			console.log(randomValueFromArray(insertX));
			randomize.addEventListener("click", result);

			function result() {
				let newStory = storyText;
				let xItem = randomValueFromArray(insertX);
				let yItem = randomValueFromArray(insertY);
				let zItem = randomValueFromArray(insertZ);

				newStory = newStory.replaceAll(":insertx:", xItem);
				newStory = newStory.replaceAll(":inserty:", yItem);
				newStory = newStory.replaceAll(":insertz:", zItem);

				if (customName.value !== "") {
					const name = customName.value;
					newStory = newStory.replace("Bob", name);
				}

				if (document.getElementById("uk").checked) {
					const weight = `${Math.round(300 * 0.0714286)} stone`;
					const temperature = `${Math.round(((94 - 32) * 5) / 9)} centigrade`;
					newStory = newStory.replaceAll("94 fahrenheit", temperature);
					newStory = newStory.replaceAll("300 pounds", weight);
				}

				story.textContent = newStory;
				story.style.visibility = "visible";
			}

			const target = { a: 1, b: 2 };
			const source = { b: 4, c: 5 };

			const returnedTarget = Object.assign(target, source);
			console.log(target);
			console.log(returnedTarget);
			console.log(returnedTarget === target);

			//spread operator - оператор расишрения ...
			let a3 = [1, 2, 3, 4, 5, 6];
			let [c, d, ...e] = a3; // деструктурирующее присваивание
			console.log(c, d, e);
			console.log(c, d, ...e); //spread operator - оператор расишрения ...

			//var associative_array = new Boolean();
			//var associative_array = new Date();
			//var associative_array = new RegExp();
			//var associative_array = new Number();
			var associative_array = new Array();
			associative_array["one"] = "Lorem";
			associative_array["two"] = "Ipsum";
			associative_array["three"] = "dolor";
			console.log(associative_array);
			console.log(associative_array.length);
			for (i in associative_array) {
				console.log(i);
			}

			//Форматирование чисел. Объект NumberFormat полезен при форматировании чисел, например, валют.

			//Примечание: Не существует способа остановить или прервать цикл forEach() кроме как выбрасыванием исключения. Если вам необходимо такое поведение, метод forEach() неправильный выбор.
		</script>
	</body>
</html>
