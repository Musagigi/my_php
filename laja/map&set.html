<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<title>Document</title>
	</head>
	<body>
		<script>
			// Основные операции со словарём:
			var sayings = new Map();
			sayings.set("dog", "woof");
			sayings.set("cat", "meow").set("elephant", "toot");
			//вызов функции .set возвращает Map, поэтому set можно объединять в цепочки

			sayings.set("dog", "гав-гав"); // заменить значение по ключу

			sayings.size; // 3
			sayings.get("fox"); // undefined
			sayings.has("bird"); // false
			sayings.delete("dog");

			for (var [key, value] of sayings) {
				console.log(key + " goes " + value);
			}
			console.log(sayings);
			// "cat goes meow"
			// "elephant goes toot"

			//WeakMap это специальный вид словаря, ключами которого могут быть только объекты, причём ссылки на них в WeakMap являются слабыми (не учитываются сборщиком мусора (garbage collector GC)).
			//Интерфейс WeakMap совпадает с Map, единственное отличие - ключи WeakMap нельзя итерировать (т.e. нельзя получить список ключей).

			//Основные операции по работе с коллекцией Set
			var mySet = new Set();
			mySet.add(1);
			mySet.add("some text");
			mySet.add("foo");

			mySet.has(1); // true
			mySet.delete("foo");
			mySet.size; // 2

			for (let item of mySet) console.log(item);
			console.log(mySet);
			// 1
			// "some text"
			//Можно создать Array из Set с помощью Array.from или используя spread operator.
			//В свою очередь, конструктор Set может принимать Array в качестве аргумента.
			// Поскольку Set структура работает с уникальными значениями, любые повторяющиеся элементы из Array будут проигнорированы.
			//WeakSet это специальный вид коллекции, элементами которой могут быть только объекты. Ссылки на эти объекты в WeakSet являются слабыми (не учитываются сборщиком мусора (garbage collector GC)).
			//Элементы WeakSet уникальны и могут быть добавлены только один раз, также как и в Set
			//WeakSet это коллекция объектов ( примитивные значения не могут быть добавлены).
			//WeakSet нельзя итерировать. А также нельзя получить список (итератор) элементов.
		</script>
	</body>
</html>
